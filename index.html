<!DOCTYPE html>
<html>
	<head>
		<title>Moir√© Clock</title>
		<style type="text/css">
			*{padding: 0; margin: 0; overflow: hidden; list-style: none;}
			.hour, .minute, .second{
				position: absolute; 
				top: -50vh; 
				left: 0; 
				transition: 1s ease;
			}
			ul.no_transition{
				transition: 0s ease;
			}
			li{
				height: 200vh; 
				display: inline-block;
			}
		</style>
	</head>
	<body>
		<ul class="hour"></ul>
		<ul class="minute"></ul>
		<script type="text/javascript">
			function load() {
				for(i=0;i<401;i++){
					document.querySelector('ul.hour').appendChild(document.createElement('li'))
					document.querySelector('ul.minute').appendChild(document.createElement('li'))
				}
				Array.from(document.querySelectorAll('li'), e => e.style.width = '' + (100/400) + 'vw')
				Array.from(document.querySelectorAll('li:nth-child(odd)'), e => e.style.background = 'black')
			}
			load()
			
			function getTime(){
				var d = new Date();
				var h = (d.getHours() / 2);
				var m = d.getMinutes();
				var s = d.getSeconds();

				if(h == 0){
					document.querySelector('.hour').classList.add('no_transition')
				} else {
					document.querySelector('.hour').classList.remove('no_transition')
				}
				if(m == 0){
					document.querySelector('.minute').classList.add('no_transition')
				} else {
					document.querySelector('.minute').classList.remove('no_transition')
				}

				document.querySelector('.hour').style.transform = 'rotate(' + (h * 30) + 'deg)';
				document.querySelector('.minute').style.transform = 'rotate(' + (m * 6) + 'deg)';
			}
			getTime()

			setInterval(getTime, 500)
		</script>
	</body>
</html>